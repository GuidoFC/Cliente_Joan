<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="./view/view.js"></script>
    <script src="./model/model.js"></script>
    <script src="./service/service.js"></script>
    <script>
      // Primero crearemos el tag de div con id = app
      createDiv();
      createImg();

      putImg(1);

      const alfabeto = createAllLetters();

      function createDivToWords(alfabeto) {
        // TODO necesito crear un div padre y luego muchos div para cada letra
        // contendor padre

        createContendorDiv();

        // crear los div dentro del contendor padre
        const getDivContendor = document.querySelector("#contendor");
        createAllDivForEachLetter(getDivContendor);
        styleDefault(getDivContendor);
        // to do an array with 4 words y hacer una que aparezca
        const palabraAdivinar = createWordsToGuess(getDivContendor);
        // befote to do this i want to save this word in another variable
        const savePalabraAdivinar = palabraAdivinar;

        // tranform all the words in this character "_"
        transformWordsToUnderscore(palabraAdivinar);
        //
        // select all the button with class -> classButton
        const allButtons = document.querySelectorAll(".classButton");
        console.table(allButtons);

        // disable a button
        function disableButton() {
          const anyButton = this;
          // the button can´t be clicked two times
          anyButton.disabled = true;
        }

        for (let i = 0; i < allButtons.length; i++) {
          allButtons[i].addEventListener("click", disableButton);
          // con esta función anomina evito que se ejecute inmediatamente la función!!!!!!
          // Entender que significa esto de event
          // Pasamos el evento click para poder acceder al botón clicado
          allButtons[i].addEventListener("click", (event) =>
            getTextButton(savePalabraAdivinar)
          );
        }

        // get text of the button
        function getTextButton(savePalabraAdivinar) {
          // Entender que significa esto de event
          const anyButton = event.target; // 'event.target' es el botón que fue clicado

          const getLetter = anyButton.textContent;
          const palabraCriptada = savePalabraAdivinar;
          debugger;
          if (thereIsThisLetter(getLetter, palabraCriptada)) {
            console.log("guay");
          } else {
            console.log("no hay");
          }
        }
      }

      function thereIsThisLetter(getLetter, palabraCriptada) {
        const getWord = getLetter;
        for (let i = 0; i < palabraCriptada.length; i++) {
          if (palabraCriptada.charAt(i) === getLetter) {
            return true;
          }
        }
        return false;
      }

      createDivToWords(alfabeto);
    </script>
  </body>
</html>
